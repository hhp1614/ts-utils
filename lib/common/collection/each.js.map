{"version":3,"file":"each.js","sourceRoot":"","sources":["../../../src/common/collection/each.ts"],"names":[],"mappings":";;;AAAA,gCAAkD;AAgClD;;;;GAIG;AACH,SAAgB,IAAI,CAAC,UAAe,EAAE,QAAwC;IAC5E,IAAI,UAAU,IAAI,IAAI,EAAE;QACtB,MAAM,IAAI,SAAS,CAAC,wBAAwB,CAAC,CAAC;KAC/C;IACD,IAAI,CAAC,iBAAU,CAAC,QAAQ,CAAC,EAAE;QACzB,MAAM,IAAI,SAAS,CAAC,kBAAkB,CAAC,CAAC;KACzC;IAED,IAAI,kBAAW,CAAC,UAAU,CAAC,EAAE;QAC3B,WAAW;QACX,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,QAAM,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,GAAG,QAAM,EAAE,CAAC,EAAE,EAAE;YAC3D,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SAC5B;KACF;SAAM;QACL,OAAO;QACP,IAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QACrC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACpC,IAAM,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YACpB,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC;SAChC;KACF;AACH,CAAC;AArBD,oBAqBC","sourcesContent":["import { isArrayLike, isFunction } from '../type';\n\ninterface ArrayLike<T> {\n  readonly length: number;\n  readonly [n: number]: T;\n}\n\n/**\n * 遍历数组\n * @param collection 需要遍历的数组\n * @param callback 回调函数\n */\nexport function each<T>(collection: T[], callback: (value: T, index: number) => void): void;\n/**\n * 遍历字符串\n * @param collection 需要遍历的字符串\n * @param callback 回调函数\n */\nexport function each(collection: string, callback: (value: string, index: number) => void): void;\n/**\n * 遍历类数组\n * @param collection 需要遍历的类数组\n * @param callback 回调函数\n */\nexport function each<T>(collection: ArrayLike<T>, callback: (value: T, index: number) => void): void;\n/**\n * 遍历对象\n * @param collection 需要遍历的对象\n * @param callback 回调函数\n */\nexport function each<T extends object>(collection: T, callback: (value: T[keyof T], key: string) => void): void;\n\n/**\n * 遍历数组、类数组和对象\n * @param collection 需要遍历的数组、类数组和对象\n * @param callback 回调函数\n */\nexport function each(collection: any, callback: (value: any, key: any) => void) {\n  if (collection == null) {\n    throw new TypeError('`collection` 类型错误，无法遍历');\n  }\n  if (!isFunction(callback)) {\n    throw new TypeError('`callback` 必须是函数');\n  }\n\n  if (isArrayLike(collection)) {\n    // 处理数组和类数组\n    for (let i = 0, length = collection.length; i < length; i++) {\n      callback(collection[i], i);\n    }\n  } else {\n    // 处理对象\n    const keys = Object.keys(collection);\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i];\n      callback(collection[key], key);\n    }\n  }\n}\n"]}